<!DOCTYPE.html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Nuevos tipos de datos Java Script</title>
    </head>

    <body>
        <h1>WeakSets WeakMaps</h1>
        
        <script>
           //Solo pueden almacenar objetos debiles. Solo objetos
           //No se pueden recorrer, no son iterables.
           //No se pueden eliminar todos los elementos de golpe. Solo de uno en uno
           //No se puede saber su tamaño, no se puede utilizar 'size'

           const ws = new WeakSet();
           let valor1 = {"valor1":1}; //objeto
           let valor2 = {"valor2":2};
           let valor3 = {"valor3":3};

           ws.add(valor1); //Añadir objeto al weak
           ws.add(valor2);
           console.log(ws);

           console.log(ws.has(valor1)); //Existe valor?

           ws.add(valor3);

           //WeakMaps
           const wm = new WeakMap();
           let llave1 = {}; //objeto
           let llave2 = {};
           let llave3 = {};

           wm.set(llave1, 1);
           wm.set(llave2, 2);
           console.log(wm);

           console.log(wm.has(llave1)); //Existe valor?
           wm.delete(llave2);
           console.log(wm);

        </script>

    </body>

</html>