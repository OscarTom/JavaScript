<!DOCTYPE.html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Fundamentos Java Script</title>
    </head>

    <body>
        <h1>Promesas</h1>
        
        <script>
            function cuadradoPromise(value){
                if(typeof value !== "number") return Promise.reject("Error el valor ingresado no es un numero");
                return  new Promise((resolve,reject)=> {
                    setTimeout(() => {
                        resolve({
                            value: value,
                            result: value*value
                        });
                    },0 | Math.random()*1000);
                });
            }

            cuadradoPromise(0)
                .then((obj)=>{
                    console.log("Inicia promera");
                    console.log(`Promesa: ${obj.value}, ${obj.result}`);
                    return cuadradoPromise(1);
                })
                .then(obj=>{
                    console.log(`Promesa: ${obj.value}, ${obj.result}`);
                    return cuadradoPromise(4);
                })
                .then(obj=>{
                    console.log(`Promesa: ${obj.value}, ${obj.result}`);
                    return cuadradoPromise(10);
                })
                .then(obj=>{
                    console.log(`Promesa: ${obj.value}, ${obj.result}`);
                    console.log("Fin promesa");
                })
                .catch();
            
            

        </script>

    </body>

</html>